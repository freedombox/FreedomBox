{% extends 'cards.html' %}
{% comment %}
# SPDX-License-Identifier: AGPL-3.0-or-later
{% endcomment %}

{% load static %}
{% load i18n %}

{% block body_class %}apps-page{% endblock %}

{% block tags %}
  {% if tags %}
    <div class="container">
      <div class="dropdown searchable-dropdown mr-2">
        <div class="tag-input">
          <div id="selected-tags">
            {% for tag in tags %}
              <span class="badge badge-light badge-pill tag-badge mr-2 d-flex align-items-center" data-tag="{{ tag }}">
                  {% trans tag %}
                  <button class="btn btn-sm btn-light remove-tag" data-tag="{{ tag }}">
                      <i class="fa fa-times"></i>
                  </button>
              </span>
            {% endfor %}
          </div>
          <input id="add-tag-input" type="search" class="form-control dropdown-toggle"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                autocomplete="off">
          <div class="dropdown-menu" aria-labelledby="add-tag-input">
              <ul class="dropdown-items list-unstyled">
                  {% for tag in all_tags %}
                      {% if tag not in tags %}
                          <li class="dropdown-item" data-value="{{ tag }}">{% trans tag %}</li>
                      {% endif %}
                  {% endfor %}
              </ul>
          </div>
        </div>
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block page_js %}
  <script type="text/javascript" src="{% static 'tags.js' %}"></script>
{% endblock %}
